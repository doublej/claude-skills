{
  "title": "Graphics",
  "content": "[Graphics](https://pixijs.download/release/docs/scene.Graphics.html) is a powerful and flexible tool for rendering shapes such as rectangles, circles, stars, and custom polygons. It can also be used to create complex shapes by combining multiple primitives, and it supports advanced features like gradients, textures, and masks.\n\n## **Available Shapes**\n\nPixiJS v8 supports a variety of shape primitives:\n\n- Line\n- Rectangle\n- Rounded Rectangle\n- Circle\n- Ellipse\n- Arc\n- Bezier / Quadratic Curves\n\n### Advanced Primitives\n\n- Chamfer Rect\n- Fillet Rect\n- Regular Polygon\n- Star\n- Rounded Polygon\n- Rounded Shape\n\nYou can also load SVG path data, although complex hole geometries may render inaccurately due to Pixi's performance-optimized triangulation system.\n\n## **GraphicsContext**\n\nThe `GraphicsContext` class is the core of PixiJS's new graphics model. It holds all the drawing commands and styles, allowing the same shape data to be reused by multiple `Graphics` instances:\n\nThis pattern is particularly effective when rendering repeated or animated shapes, such as frame-based SVG swaps:\n\n:::info\nIf you don't explicitly pass a `GraphicsContext` when creating a `Graphics` object, then internally, it will have its own context, accessible via `myGraphics.context`.\n:::\n\n### Destroying a GraphicsContext\n\nWhen you destroy a `GraphicsContext`, all `Graphics` instances that share it will also be destroyed. This is a crucial point to remember, as it can lead to unexpected behavior if you're not careful.\n\n## **Creating Holes**\n\nUse `.cut()` to remove a shape from the previous one:\n\nEnsure the hole is fully enclosed within the shape to avoid triangulation errors.\n\n## **Graphics Is About Building, Not Drawing**\n\nDespite the terminology of functions like `.rect()` or `.circle()`, `Graphics` does not immediately draw anything. Instead, each method builds up a list of geometry primitives stored inside a `GraphicsContext`. These are then rendered when the object is drawn to the screen or used in another context, such as a mask.\n\nYou can think of `Graphics` as a blueprint builder: it defines what to draw, but not when to draw it. This is why `Graphics` objects can be reused, cloned, masked, and transformed without incurring extra computation until they're actually rendered.\n\n## **Performance Best Practices**\n\n- **Do not clear and rebuild graphics every frame**. If your content is dynamic, prefer swapping prebuilt `GraphicsContext` objects instead of recreating them.\n- **Use `Graphics.destroy()`** to clean up when done. Shared contexts are not auto-destroyed.\n- **Use many simple `Graphics` objects** over one complex one to maintain GPU batching.\n- **Avoid transparent overlap** unless you understand blend modes; overlapping semi-transparent primitives will interact per primitive, not post-composition.\n\n## **Caveats and Gotchas**\n\n- **Memory Leaks**: Call `.destroy()` when no longer needed.\n- **SVG and Holes**: Not all SVG hole paths triangulate correctly.\n- **Changing Geometry**: Use `.clear()` sparingly. Prefer swapping contexts.\n- **Transparency and Blend Modes**: These apply per primitive. Use `RenderTexture` if you want to flatten effects.\n\n- [Graphics](https://pixijs.download/release/docs/scene.Graphics.html)\n- [GraphicsContext](https://pixijs.download/release/docs/scene.GraphicsContext.html)\n- [FillStyle](https://pixijs.download/release/docs/scene.FillStyle.html)\n- [StrokeStyle](https://pixijs.download/release/docs/scene.StrokeStyle.html)",
  "code_samples": [
    {
      "code": "import { Graphics } from 'pixi.js';\n\nconst graphics = new Graphics().rect(50, 50, 100, 100).fill(0xff0000);",
      "language": "ts"
    },
    {
      "code": "const graphics = new Graphics()\n  .rect(50, 50, 100, 100)\n  .fill(0xff0000)\n  .circle(200, 200, 50)\n  .stroke(0x00ff00)\n  .lineStyle(5)\n  .moveTo(300, 300)\n  .lineTo(400, 400);",
      "language": "ts"
    },
    {
      "code": "let shape = new Graphics().svg(`\n  \n    \n  \n`);",
      "language": "ts"
    },
    {
      "code": "const context = new GraphicsContext().circle(100, 100, 50).fill('red');\n\nconst shapeA = new Graphics(context);\nconst shapeB = new Graphics(context); // Shares the same geometry",
      "language": "ts"
    },
    {
      "code": "let frames = [\n  new GraphicsContext().circle(100, 100, 50).fill('red'),\n  new GraphicsContext().rect(0, 0, 100, 100).fill('red'),\n];\n\nlet graphic = new Graphics(frames[0]);\n\nfunction update() {\n  graphic.context = frames[1]; // Very cheap operation\n}",
      "language": "ts"
    },
    {
      "code": "const context = new GraphicsContext().circle(100, 100, 50).fill('red');\nconst shapeA = new Graphics(context);\nconst shapeB = new Graphics(context); // Shares the same geometry\n\nshapeA.destroy({ context: true }); // Destroys both shapeA and shapeB",
      "language": "ts"
    },
    {
      "code": "const g = new Graphics()\n  .rect(0, 0, 100, 100)\n  .fill(0x00ff00)\n  .circle(50, 50, 20)\n  .cut(); // Creates a hole in the green rectangle",
      "language": "ts"
    },
    {
      "code": "const graphic = new Graphics().rect(0, 0, 200, 100).fill(0xff0000);\n\napp.stage.addChild(graphic); // The rendering happens here",
      "language": "ts"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "**Available Shapes**",
      "id": "**available-shapes**"
    },
    {
      "level": "h3",
      "text": "Basic Primitives",
      "id": "basic-primitives"
    },
    {
      "level": "h3",
      "text": "Advanced Primitives",
      "id": "advanced-primitives"
    },
    {
      "level": "h3",
      "text": "SVG Support",
      "id": "svg-support"
    },
    {
      "level": "h2",
      "text": "**GraphicsContext**",
      "id": "**graphicscontext**"
    },
    {
      "level": "h3",
      "text": "Destroying a GraphicsContext",
      "id": "destroying-a-graphicscontext"
    },
    {
      "level": "h2",
      "text": "**Creating Holes**",
      "id": "**creating-holes**"
    },
    {
      "level": "h2",
      "text": "**Graphics Is About Building, Not Drawing**",
      "id": "**graphics-is-about-building,-not-drawing**"
    },
    {
      "level": "h2",
      "text": "**Performance Best Practices**",
      "id": "**performance-best-practices**"
    },
    {
      "level": "h2",
      "text": "**Caveats and Gotchas**",
      "id": "**caveats-and-gotchas**"
    },
    {
      "level": "h2",
      "text": "**API Reference**",
      "id": "**api-reference**"
    },
    {
      "level": "h2",
      "text": "Scene Objects",
      "id": "scene-objects"
    }
  ],
  "url": "llms-txt#graphics",
  "links": []
}